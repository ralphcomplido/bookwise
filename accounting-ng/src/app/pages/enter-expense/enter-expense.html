<div style="max-width:720px;margin:40px auto;font-family:Arial;">
  <h2>Enter Expense</h2>

  <div style="border:1px solid #ddd;padding:14px;border-radius:8px;">
    <div style="margin-bottom:10px;">
      <label>Expense Account (Debit)</label><br />
      <select [(ngModel)]="expenseAccountId" [disabled]="isLoadingAccounts">
        <option *ngFor="let a of accounts" [ngValue]="a.id">
          {{ a.accountCode }} - {{ a.name }} ({{ typeLabel(a.type) }})
        </option>
      </select>
      <div *ngIf="isLoadingAccounts" style="color:#555;margin-top:6px;">Loading accounts...</div>
    </div>

    <div style="margin-bottom:10px;">
      <label>Payment Account (Credit)</label><br />
      <select [(ngModel)]="paymentAccountId" [disabled]="isLoadingAccounts">
        <option *ngFor="let a of accounts" [ngValue]="a.id">
          {{ a.accountCode }} - {{ a.name }} ({{ typeLabel(a.type) }})
        </option>
      </select>
    </div>

    <div style="margin-bottom:10px;">
      <label>Date</label><br />
      <input type="date" [(ngModel)]="occurredOn" />
    </div>

    <div style="margin-bottom:10px;">
      <label>Description</label><br />
      <input style="width:100%;" type="text" [(ngModel)]="description" />
    </div>

    <div style="margin-bottom:10px;">
      <label>Amount</label><br />
      <input type="number" step="0.01" [(ngModel)]="amount" />
    </div>

    <div style="margin-bottom:10px;">
      <label>Reference No (optional)</label><br />
      <input type="text" [(ngModel)]="referenceNo" />
    </div>

    <div style="display:flex;gap:10px;margin-top:12px;">
      <button (click)="submit()" [disabled]="isSubmitting || isLoadingAccounts">
        {{ isSubmitting ? 'Saving...' : 'Save Expense' }}
      </button>

      <button (click)="cancel()" [disabled]="isSubmitting">
        Cancel
      </button>
    </div>

    <p style="color:red;margin-top:10px;" *ngIf="error">{{ error }}</p>
  </div>
</div>
